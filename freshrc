# vim: set ft=sh:

fresh freshshell/fresh bin/fresh --bin

#prompt
fresh nojhan/liquidprompt liquidprompt

# Some shell aliases
[ "Linux" = "$(uname)" ] && fresh shell/alias-linux.sh
[ "Darwin" = "$(uname)" ] && fresh shell/alias-darwin.sh
[ "FreeBSD" = "$(uname)" ] && fresh shell/alias-fbsd.sh


# Config files
[ "Linux" = "$(uname)" ] && fresh config/\* --file

# Vim
fresh vim/vimrc --file
fresh vim/vim --file=~/.vim/
fresh shell/vim.sh

install_vim_bundle(){
  mkdir -p ~/.vim/bundle
  git clone https://github.com/Shougo/neobundle.vim ~/.vim/bundle/neobundle.vim
  vim +NeoBundleInstall +qall
}

install_brew(){
  if [ "$(uname)" == "Darwin" ] && ! which brew &> /dev/null; then
    echo 'Installing brew..'
    ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
    cd $HOME
    brew tap homebrew/brewdler
    brew brewdle
  fi
}

# fresh hook
fresh_after_build(){
  install_vim_bundle
  install_brew
}

fresh josacar/dotfiles shell/aliases/git.sh
